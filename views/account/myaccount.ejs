<% layout('layouts/boilerplate') %>

<!-- Container for My Account Section -->
<div class="container mx-auto my-10 p-8 bg-white shadow-lg rounded-lg">
    <h1 class="text-3xl font-semibold text-gray-800 mb-6 text-center">My Account</h1>
    
    <% if (currentUser) { %>
        <!-- User Greeting -->
        <div class="text-center mb-6">
            <p class="text-lg text-gray-600">Welcome, <%= currentUser.username %>!</p>
            <p class="text-md text-gray-500">Your email: <%= currentUser.email %></p>
        </div>

        <% if (account && account.length > 0) { %>
            <!-- User's Accounts -->
            <h2 class="text-2xl font-semibold text-gray-800 mb-4 text-center">Your Accounts</h2>
            <ul class="space-y-4">
                <% account.forEach(account => { %>
                    <li class="bg-gray-100 p-4 rounded-lg shadow-sm">
                        <strong class="text-lg text-gray-700">Account Name:</strong> <%= account.name %> <br>
                        <strong class="text-lg text-gray-700">Balance:</strong> $<%= account.balance %> <br>
                        <!-- Link to individual account details page -->
                        <a href="/accounts/<%= account._id %>" class="text-blue-500 hover:text-blue-700">View Account Details</a>
                    </li>
                <% }) %>
            </ul>
        <% } else { %>
            <p class="text-center text-gray-600">You have no accounts yet.</p>
        <% } %>

    <% } else { %>
        <p class="text-center text-lg text-gray-600">Please <a href="/login" class="text-blue-500 hover:text-blue-700">log in</a> to view your account.</p>
    <% } %>
</div>

<!-- Back to Accounts Link -->
<div class="text-center mt-6">
    <a href="/accounts" class="text-blue-500 hover:text-blue-700 text-lg">Go to All Accounts</a>
</div>

